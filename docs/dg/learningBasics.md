<variable name="title">Learning the Basics</variable>
<frontmatter>
  title: "{{ title | safe }}"
  pageNav: 3
</frontmatter>

{% from 'scripts/macros.njk' import embed, step with context %}

<h1 class="display-4"><md>{{ title }}</md></h1>

<div class="lead">

This is a learning guide for developers who are new to RepoSense.
</div>

<box type="warning" seamless>

Depending on what you have already known and what you would like to work on (backend or frontend), you may find certain sections irrelevant to you and you can skip them accordingly.
</box>

## Backend

<box type="info" seamless>

This section is for developers who want to contribute to the backend of RepoSense. You may skip this section if you want to contribute as a pure frontend developer. Before you get started, you should have set up the project on your computer according to [the _Setting up_ page](settingUp.html).
</box>

The backend implementation of RepoSense is located in `src/main`.

{{ step(1) }} Know Java

The RepoSense backend is mostly written in `Java 8`. 

1. You need to have a basic knowledge of Java before getting started, including its syntax, [API](https://docs.oracle.com/javase/8/docs/api/), and certain frameworks such as [JUnit](https://se-education.org/learningresources/contents/java/JUnit.html).
1. Once you are familiar with the basic syntax, you may wish to learn more advanced topics such as [concurrency](https://se-education.org/learningresources/contents/java/JavaConcurrency.html), [synchronization](https://se-education.org/learningresources/contents/java/JavaSynchronization.html), and [streams](https://se-education.org/learningresources/contents/java/streams-an-introduction.html). These topics can help you to understand certain part of the backend implementation (concurrent cloning and analysis of multiple repositories, etc). They are optional but you may find them useful when working on certain issues.

{{ step(2) }} Learn the RepoSense backend architecture

You may want to refer to the [backend architecture](architecture.html). This can greatly help you to understand the implementation logic.

To gain a more concrete idea of how the backend works, you can use the IDE Debugger to trace through the steps of how the JSON files are generated by running RepoSense under debugging mode.

<box type="warning" seamless>

The information below is for **Intellij**. If you are using a different IDE, you may need to check the documentation of how to use the debugger separately.
</box>

* Check the [debugging guide](https://www.jetbrains.com/help/idea/debugging-your-first-java-application.html) if you are not familiar with debugging in **Intelij**.
* In `RepoSense.java`, the main class, set appropriate break points. Here are some relevant method calls in the `main` method at which you can set the breakpoints:
  * `ArgsParser.parse(args)`: RepoSense parses the CLI arguments from the command given by the user.
  * `getRepoConfigurations(cliArguments)`: RepoSense gets the configuration for each repository by parsing the CSV files.
  * `getReportConfigurations(cliArguments)`: RepoSense gets the report configuration (report title) by parsing the JSON files.
  * `ReportGenerator.generateReposReport(...)` This is where the bulk of the work is conducted, including cloning repositories, analyzing repositories, and generating the JSON files to be used by the report.

<box type="info" seamless>

When tracing through the program execution, you can cross reference the architecture diagram and Javadoc of the class and method to check your understanding of the procedure.
</box>

{{ step(3) }} Gain some hands-on experience

Here are some small tasks for you to get started on RepoSense backend contribution.

<panel header="**Command Line Argument Parser**" type="primary">

### Command Line Argument Parser

1. [Generate a report locally](../ug/generatingReports.html#generating-reports-locally).
2. Open a generated JSON file. For example, you can open `summary.json` of the generated report.
3. You should see that the content in the JSON is compactly organized in 1 single line. This may affect readability for developer who wants to investigate the content in the JSON file.

**Your Task**

Add a new CLI argument `--use-json-pretty-printing`, such that when a user runs a command `java -jar RepoSense.jar --repos LIST_OF_REPO_URLS --view --use-json-pretty-printing`, the JSON file will be printed in a more readable way.

<panel header="Hint 1">

Try to understand the parsing process of the Command Line Arguments, which starts from `ArgsParser.parse(args)` in `RepoSense.java` and uses `ArgumentParser` to convert an argument string into a Java Object.

Therefore, the first step you can take is to add the following to `ArgsParser`.

```
public static final String[] JSON_PRINT_MODE_FLAGS = new String[]{"--use-json-pretty-printing", "-j"};
```

In `getArgumentParser` method, add the following content.

```
parser.addArgument(JSON_PRINT_MODE_FLAGS)
    .dest(JSON_PRINT_MODE_FLAGS[0])
    .action(Arguments.storeTrue())
    .help("A flag to use json pretty printing when generating the json files.");
```
</panel>

<panel header="Hint 2">

After the step in hint 1, the argument is captured by `ArgumentParser`. Now change the  `CliArguments`, `ConfigCliArguments`, `parse` method in `ArgsParser` to make the return result of `parse` include the new argument. 

Add the following content to `CliArguments`.

```
protected boolean isPrettyPrintingUsed;

public boolean isPrettyPrintingUsed() {
        return isPrettyPrintingUsed;
}
```

In the [constructor](https://github.com/reposense/RepoSense/blob/9125d4b6bea1e5bb6329cb8f7c476ea18fed3cea/src/main/java/reposense/model/ConfigCliArguments.java#L26-L52) of `ConfigCliArguments`, add `isPrettyPrintingUsed` as a new argument of the method, add the following content to the method body.

```
this.isPrettyPrintingUsed = isPrettyPrintingUsed;
```

In the `parse` method, replace the [section](https://github.com/reposense/RepoSense/blob/9125d4b6bea1e5bb6329cb8f7c476ea18fed3cea/src/main/java/reposense/parser/ArgsParser.java#L303-L306) with the following content to get `isJsonPrettyPrintingUsed` from `ArgmentParser` and pass it to `ConfigCliArguments`.

```
boolean isJsonPrettyPrintingUsed = results.get(JSON_PRINT_MODE_FLAGS[0]);

return new ConfigCliArguments(configFolderPath, outputFolderPath, assetsFolderPath, sinceDate, untilDate,
        isSinceDateProvided, isUntilDateProvided, numCloningThreads, numAnalysisThreads, formats,
        shouldIncludeLastModifiedDate, shouldPerformShallowCloning, isAutomaticallyLaunching,
        isStandaloneConfigIgnored, zoneId, isJsonPrettyPrintingUsed);
``` 
</panel>

<panel header="Hint 3">

After the steps in hint 1 and hint 2, the result returned from `ArgsParser.parse(args)` in `RepoSense.java` should already be able to capture the new argument when it is specified in the command. 

The next step is to pass the argument to JSON file writer to notify it of the specified printing mode.

Note that the creation and writing of JSON file is invoked in `ReportGenerator.generateReposReport`, which calls `FileUtil.writeJsonFile` directly to write the `summary.json` file or indirectly (Check `generateIndividualRepoReport` and `generateEmptyRepoReport`) to write the `commits.json` or `authorship.json` files of individual repositories.

Therefore, the task now is to make `FileUtil.writeJsonFile` switch between different printing mode.
 
You can find out what [`Gson.setPrettyPrinting`](https://www.javadoc.io/doc/com.google.code.gson/gson/2.8.5/com/google/gson/GsonBuilder.html#setPrettyPrinting--) does and how it is used in the `writeJsonFile` method of [`FileUtil.java`](https://github.com/reposense/RepoSense/blob/master/src/main/java/reposense/util/FileUtil.java).

Add the following content to `FileUtil`.

```
private static boolean isPrettyPrintingUsed = false;
```

Replace the [section](https://github.com/reposense/RepoSense/blob/9125d4b6bea1e5bb6329cb8f7c476ea18fed3cea/src/main/java/reposense/util/FileUtil.java#L97-L101) in the `writeJsonFile` method with the following content.

```
GsonBuilder gsonBuilder = new GsonBuilder()
        .setDateFormat(GITHUB_API_DATE_FORMAT)
        .registerTypeAdapter(FileType.class, new FileType.FileTypeSerializer());
Gson gson;
if (isPrettyPrintingUsed) {
    gson = gsonBuilder.setPrettyPrinting().create();
} else {
    gson = gsonBuilder.create();
}
```

To notify `FileUtil` of the switch between different printing mode, add the following content to `FileUtil`.

```
public static void setPrettyPrintingMode(boolean isPrettyPrintingAdopted) {
    isPrettyPrintingUsed = isPrettyPrintingAdopted;
}
```

It is now possible to notify `FileUtil` of the printing mode switch by adding the following content to the `main` method of `RepoSense.java`.

```
FileUtil.setPrettyPrintingMode(cliArguments.isPrettyPrintingUsed());
```

Now the parsing of argument and changing of printing mode should have been completed.
</panel>

<panel header="Suggested solution">
  There is more than 1 way to achieve this. One solution is shown as the following:
  
  According to hint 1, hint 2, and hint 3, here are the complete [required changes](https://gist.github.com/HCY123902/e85ad0f7b258937945ce1aa97fe4af9e/revisions) (See the latest revision).
</panel>

</panel>

<panel header="**Cloning of repository**" type="primary">

### Cloning of repository

1. Open a [report](https://dashboard-1507-pr-reposense-reposense.surge.sh/).
2. You should see that there is a red panel in the summary view containing the following message, indicating that there is an issue in the cloning process of the repository `reposense/testrepo-Empty`.

```
reposense/testrepo-Empty[master]
        Failed to clone from https://github.com/reposense/testrepo-Empty.git
```

**Your task**

For the repository with the message `Failed to clone from ...`, find out what exception causes this cloning error, and add that exception message to the panel as well.

<panel header="Hint 1">

You can find out what [`ErrorSummary.java`](https://github.com/reposense/RepoSense/blob/master/src/main/java/reposense/report/ErrorSummary.java) and [`RepoCloner.java`](https://github.com/reposense/RepoSense/blob/master/src/main/java/reposense/report/RepoCloner.java) do, and where they are used.
</panel>

<panel header="Hint 2">

Try to understand the cloning process. The cloning process is invoked by [`RepoGenerator.java`](https://github.com/reposense/RepoSense/blob/master/src/main/java/reposense/report/ReportGenerator.java) in the `cloneAndAnalyzeRepos` method, which subsequently calls `cloneBare` in `RepoCloner.java` to start the cloning. The `cloneAndAnalyzeRepos` method will then call `getRepoLocation`  in `RepoCloner.java` to try to get the repository location. Beneath the surface, `RepoCloner` will first execute `spawnCloneProcess` and then execute `waitForCloneProcess` when it is invoked by `RepoGenerator` for the first and second time respectively.
</panel>

<panel header="Hint 3">

In `RepoCloner`, the potential exceptions in `spawnCloneProcess` and `waitForCloneProcess` are caught but not recorded by `ErrorSummary`. 
</panel>

<panel header="Suggested solution">
  There is more than 1 way to achieve this. One solution is shown as the following:
  
  Add this to the catch block of `spawnCloneProcess` and `waitForCloneProcess`.
  
  ``` 
  ErrorSummary.getInstance().addErrorMessage(config.getDisplayName(), e.getMessage());
  ```
</panel>

</panel>

<box type="info" seamless>

This is only for your practice. There is no need for you to commit this change and submit it in a pull request.
</box>

{{ step(4) }} Get familiar with the workflow

The next step is to learn how to enhance the code quality according to the coding standard, write necessary tests and documentation, verify that the changes passes the test cases, and submit the pull request. You can refer to [the _Workflow_ page](workflow.html).

{{ step(5) }} Get started with contributing

RepoSense currently has a lot of open issues, and some may be challenging. Now that you are ready, you can check the [issues for first timers](https://github.com/reposense/RepoSense/issues?q=is%3Aopen+is%3Aissue+label%3Aa-Backend+label%3Ad.FirstTimers) or issues in the [roadmap for contributors](https://github.com/reposense/RepoSense/projects/2#column-13522966) to work on actual pull requests.

<box type="info" seamless>

The issues for first timers usually have guidance provided in the comment or have linked pull requests from previous contributors. You can refer to them for implementation details.
</box>

<!-- ==================================================================================================== -->

## Frontend

<box type="info" seamless>

This section is for developers who want to contribute to the frontend of RepoSense. You may skip this section if you want to contribute as a pure backend developer.
</box>

The frontend implementation of RepoSense is located in `frontend/src`.

{{ step(1) }} Learn the necessary tools

It is necessary for you to learn the basics of Vue.js, Pug, and SCSS before working on the project. 

  {{ embed('Appendix: tools to learn for frontend development', 'tools.md', level=2) }}

{{ step(2) }} Learn the RepoSense frontend architecture

* You may want to refer to the [frontend architecture](report.html#report-architecture) to understand the implementation.
* Another way for you to understand the frontend is to use **Vue.js devtools** to learn how the various Vue Components interact with each other. You can refer to the [frontend debugging guide](workflow.html#debugging-front-end) for more information.

{{ step(3) }} Gain some hands-on experience

Here are some small tasks for you to get started on RepoSense frontend contribution.

<panel header="**Summary View**" type="primary">

### Summary View

1. Open a [report](https://dashboard-1507-pr-reposense-reposense.surge.sh/).
2. Randomly open the authorship contribution panel of an author (The icon is `</>`).
3. You should see that, after you open the panel, the author title background on the left panel becomes yellow, and the background of the `</>` icon you clicked becomes green.

**Your Task** 

Make corresponding changes to `summary charts` so that in step 3, after opening the panel, the font colour of the author title on the left panel also becomes green.

<panel header="Hint 1">

Try to locate where the author title is in [`summary_charts.pug`](https://github.com/reposense/RepoSense/blob/master/frontend/src/summary_charts.pug).
</panel>

<panel header="Hint 2">

You can check what `activeUser` and `activeRepo` do in [`v_summary_charts.js`](https://github.com/reposense/RepoSense/blob/master/frontend/src/static/js/v_summary_charts.js).
</panel>

<panel header="Hint 3">

Refer to how changes are made to the title background and icon background in [`summary_charts.pug`](https://github.com/reposense/RepoSense/blob/master/frontend/src/summary_charts.pug).
</panel>

<panel header="Hint 4">

Some of the CSS styling for `summart_charts.pug` is in [`v_summary.scss`](https://github.com/reposense/RepoSense/blob/master/frontend/src/static/css/v_summary.scss).
</panel>

<panel header="Suggested solution">
  There is more than 1 way to achieve this. One solution is shown as the following:
  
  Add this to `v_summary.scss`.
  
  ``` 
  .active-text {
    color: mui-color('green');
  }
  ```

  In `summary_charts.pug`, locate `summary-chart__title--name`, and add the following to its `v-bind:class` attribute map.
  
  ```
  'active-text': user.name === activeUser && user.repoName === activeRepo
  ```
</panel>

</panel>

<panel header="**Authorship Contribution Panel**" type="primary">

### Authorship Contribution Panel

1. Open a [report](https://dashboard-1507-pr-reposense-reposense.surge.sh/).
2. Randomly open the authorship contribution panel of an author (The icon is `</>`).
3. Select a random file in the authorship contribution panel, and hover your mouse on the icons on the of the file title, the corresponding tooltip will show up, but when you hover the mouse over the file path, there is no tip shown. For example, if you select an author in `reposense/RepoSense[master]` and hover the mouse over the triangular icon of the file with path `src/main/java/reposense/model/Author.java`, you should see a tooltip saying `Click to hide file details` showing up on the icon. However, when you hover the mouse over the file path `src/main/java/reposense/model/Author.java`, there is no corresponding tip shown.

**Your Task** 

Make corresponding `authorship contribution panel` so that in step 3, when hovering your mouse over the file path, a tip saying `This is the file path. Click to hide file details` will show up when the file details is shown, and `This is the file path. Click to show file details` will show up when the file details is not shown.

<panel header="Hint 1">

Try to locate where the file title and the file path are in [`authorship.pug`](https://github.com/reposense/RepoSense/blob/master/frontend/src/tabs/authorship.pug).
</panel>

<panel header="Hint 2">

You can check how tooltip is added for the triangular icon in the file title in [`authorship.pug`](https://github.com/reposense/RepoSense/blob/master/frontend/src/tabs/authorship.pug).
</panel>

<panel header="Hint 3">

You can check what `file.active` does and how it is used to switch between different tooltip messages when hovering the mouse on the icon.. 
</panel>

<panel header="Suggested solution">
  There is more than 1 way to achieve this. One solution is shown as the following:
  
  In the [individual file section](https://github.com/reposense/RepoSense/blob/9125d4b6bea1e5bb6329cb8f7c476ea18fed3cea/frontend/src/tabs/authorship.pug#L89-L102) of `authorship.pug`, replace line 98 with the following [content](https://gist.github.com/HCY123902/1f98cbd2af45ded5e0b3430c7e682320/revisions) (See the latest revision).
</panel>

</panel>

<panel header="**Commits Panel**" type="primary">

### Commits Panel

1. Open a [report](https://dashboard-1507-pr-reposense-reposense.surge.sh/).
2. Randomly open the commits panel of an author.
3. Select a random commit in the commits panel, and hover your mouse on the icons on the commit title, there is no tooltip shown. For example, given the [report](https://dashboard-1507-pr-reposense-reposense.surge.sh/?search=&sort=groupTitle&sortWithin=title&since=&timeframe=commit&mergegroup=&groupSelect=groupByRepos&breakdown=false&tabOpen=true&tabType=zoom&zA=eugenepeh&zR=reposense%2FRepoSense%5Bmaster%5D&zACS=99.28792569659443&zS=2017-10-09&zFS=&zU=2021-04-04&zMG=undefined&zFTF=commit&zFGS=groupByRepos&zFR=false) if you hover the mouse over the commit title `README: add acknowledgements section (#978)`, you should see a tooltip saying `Click to hide file details`, there is no corresponding tip shown.

**Your Task** 

Make corresponding `zoom panel` so that in step 3, when hovering your mouse over the commit title, a tooltip saying `Click to view the detailed file changes` will show up on the commit title.

<panel header="Hint 1">

Try to locate where the commit title is in [`zoom.pug`](https://github.com/reposense/RepoSense/blob/master/frontend/src/tabs/zoom.pug).
</panel>

<panel header="Hint 2">

You can check how tooltip is added other icons in [`zoom.pug`](https://github.com/reposense/RepoSense/blob/master/frontend/src/tabs/zoom.pug).
</panel>

<panel header="Hint 3">

Check what `selectedCommits` does and how the link and commit title of each commit is retrieved.
</panel>

<panel header="Suggested solution">
  There is more than 1 way to achieve this. One solution is shown as the following:
  
  In the [indivdual commit section](https://github.com/reposense/RepoSense/blob/9125d4b6bea1e5bb6329cb8f7c476ea18fed3cea/frontend/src/tabs/zoom.pug#L88-L98) of `zoom.pug`, replace line 96 to 98 with the following [content](https://gist.github.com/HCY123902/e505429c26330df3ee17b1cb69972302/revisions) (See the latest revision).
</panel>

</panel>

<box type="info" seamless>

This is only for your practice. There is no need for you to commit this change and submit it in a pull request.
</box>

{{ step(4) }} Get familiar with the workflow

The next step is to learn how to enhance the code quality according to the coding standard, write necessary tests and documentation, verify that the changes passes the test cases, and submit the pull request. You can refer to [the _Workflow_ page](workflow.html).

{{ step(5) }} Get started with contributing

RepoSense currently has a lot of open issues, and some may be challenging. Now that you are ready, you can check the [issues for first timers](https://github.com/reposense/RepoSense/issues?q=is%3Aopen+is%3Aissue+label%3Ad.FirstTimers+label%3Aa-FrontEnd) or issues in the [roadmap for contributors](https://github.com/reposense/RepoSense/projects/2#column-13522966) to work on actual pull requests.

<box type="info" seamless>

The issues for first timers usually have guidance provided in the comment or have linked pull requests from previous contributors. You can refer to them for implementation details.
</box>

<!-- ==================================================================================================== -->

## DevOps

If you want to understand and contribute to the DevOps aspect of RepoSense, you can refer to the [DevOps guide](https://github.com/reposense/RepoSense/wiki/DevOps-guide) for more information.
